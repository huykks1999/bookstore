(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{1078:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=(n(6),n(2)),c=n(3),i=n.n(c),l=n(12),u=n.n(l),s=n(59),d=n.n(s),p=n(9),f=n(39),m=n(92),h=n(32),b=n(293),g=n(493),y=n.n(g);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var v=function(e){var t=e.color,n=void 0===t?"#0d5cb6":t,r=e.width,a=void 0===r?"24":r,c=e.height,i=void 0===c?"24":c,l=e.id,u=void 0===l?"":l,s=x(e,["color","width","height","id"]),d=y()();return o.a.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",height:i,width:a},s),o.a.createElement("defs",null,o.a.createElement("path",{id:"product-right-a-5.28l-5.705-5a1.26".concat(d).concat(u),d:"M7.668 5.28l-5.705-5a1.26 1.26 0 00-1.6.013.914.914 0 00-.015 1.402L5.25 5.988.346 10.28a.92.92 0 00-.31.974c.124.367.435.64.814.714.4.09.825-.014 1.11-.274l5.706-5a.916.916 0 000-1.414h.002z"})),o.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(8 6)"},o.a.createElement("mask",{id:"product-right-a-5.28l-5.705-5a1.26-b".concat(d).concat(u),fill:"#fff"},o.a.createElement("use",{xlinkHref:"#product-right-a-5.28l-5.705-5a1.26$".concat(d,"{id}")})),o.a.createElement("use",{fill:n,xlinkHref:"#product-right-a-5.28l-5.705-5a1.26".concat(d).concat(u)}),o.a.createElement("g",{fill:n,mask:"url(#product-right-a-5.28l-5.705-5a1.26-b".concat(d).concat(u,")")},o.a.createElement("path",{d:"M-8-6h24v24H-8z"}))))};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){P(e,t,n[t])})}return e}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;return S(e)}(this,n)}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=a.default.div.withConfig({displayName:"FrequentlyProducts__Wrapper",componentId:"elrz6y-0"})(["&.list{width:100%;.frequently-products .frequently-product-item{margin-bottom:10px;&:last-child{margin-bottom:0;}.frequently-product-name{margin-right:20px;white-space:normal;span{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;}}}.frequently-add-to-cart{align-items:flex-end;}}.images{display:flex;align-items:center;margin-bottom:10px;.image{flex:0 0 90px;height:90px;padding:4px;&.disable{opacity:0.5;}img{object-fit:contain;width:100%;height:100%;}}.plus{margin:0 10px;color:#909091;font-size:22px;font-weight:300;}}.frequently-products{position:relative;margin-bottom:10px;.frequently-product-item{display:flex;align-items:center;margin-bottom:2px;&:last-child{margin-bottom:0;}button{cursor:pointer;margin:0 4px 0 0;padding:0;background-color:transparent;border:none;outline:none;&:hover{opacity:0.8;}}.frequently-product-name{flex:1;display:flex;align-items:center;margin-right:25px;color:#4a4a4a;font-size:13px;line-height:16px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;&.disable{color:#9b9b9b;img{opacity:0.5;}}img{object-fit:contain;width:46px;height:46px;margin-right:8px;padding:2px;border:1px solid #d8d8d8;border-radius:4px;}span{width:100%;display:block;text-align:left;}}.frequently-product-price{margin:0;color:#4a4a4a;font-size:13px;font-weight:500;&.disable{color:#9b9b9b;}}}.frequently-show-all{bottom:0;left:0;display:flex;justify-content:flex-start;align-items:center;width:100%;height:44px;button{cursor:pointer;color:#0d5cb6;font-weight:500;font-size:13px;background-color:transparent;border:none;outline:none;}.frequently-show-all__icon{height:16px;margin:1px 4px -2px 4px;transform:",";}}.frequently-show-all__base{margin-top:10px;height:1px;background-color:#f2f2f2;}}.frequently-sum-price{margin-top:10px;color:#4a4a4a;font-size:13px;font-weight:500;text-align:end;}.frequently-add-to-cart{margin-top:12px;display:flex;align-items:flex-start;justify-content:space-between;&__flex{flex:0 0 200px;align-items:center;}.frequently-button{width:100%;max-width:300px;height:36px;background-color:var(--light-red);cursor:pointer;padding:6px 12px;color:#ffffff;font-size:13px;font-weight:500;border-radius:4px;background-color:#ff313d;border:none;outline:none;&:hover{opacity:0.8;}}.tikicon{background-color:#0d5cb6;}}"],function(e){return e.showAll?"rotate(270deg)":"rotate(90deg)"}),C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(c,o.a.Component);var t,n,r,a=q(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),P(S(t=a.call(this,e)),"onSelectProduct",function(e,n){e.preventDefault();var r=t.state.list;if(r[n]){var o=!r[n].checked;if(1===d()(r,function(e){return e.checked}).length&&!o)return;r[n].checked=o,t.setState({list:r})}}),P(S(t),"onAddToCart",function(e){e.preventDefault();var n=t.props.addToCart,r=t.state.list,o=0,a=r.filter(function(e){return e.checked});if(a.length>0){var c=(a=a.map(function(e){var n=e.id,r=e.default_spid||n;try{var a={id:e.id,name:e.name,price:e.price,brand:e.brand?e.brand.name:"",category:(e.breadcrumbs||[]).map(function(e){return e.name}).join("/"),dimension36:e.sku||""};e.current_seller&&(a.dimension16=e.current_seller.id,a.dimension17=e.current_seller.name,a.dimension25="normal",e.badges&&e.badges.map(function(e){"tikinow"==e.code&&(a.dimension25="2-hour")})),o+=e.price,Object(f.e)("ec:addProduct",a),Object(m.c)({event:"addToCart",ecommerce:{add:{products:[a]}}}),Object(b.b)("product","add_to_cart",{name:"Add to Cart",items:[{id:r,sku:i()(a,"dimension36",""),seller_id:i()(a,"dimension16",""),price:i()(a,"price","")}],uinf:{customer_id:i()(t.props,"customerId",0)}})}catch(e){}return{productId:r,qtyNumber:1}})).map(function(e){return e.productId}).join(",");Object(f.e)("ec:setAction","add"),Object(f.e)("send","event","Shopping","Add To Cart - FBT",c,o),n(a)}}),P(S(t),"toogleShowAll",function(e){e.preventDefault(),t.setState(function(e){var t=e.showAll;return O({},E(e,["showAll"]),{showAll:!t})})}),t.state={list:u()(e.data,function(e){return O({},e,{checked:!0})}),showAll:!1},t}return t=c,(n=[{key:"render",value:function(){var e=this,t=this.state,n=t.list,r=t.showAll,a=this.props.title;if(!n||n.length<2)return null;var c=0,l=[];return n.length>0&&(l=d()(n,function(e){return e.checked})).length>0&&(c=l.reduce(function(e,t){return e+t.price},0)),o.a.createElement("div",{className:"group border-top"},o.a.createElement(A,{className:n.length>3?"list":"grid",showAll:r},o.a.createElement("h2",{className:"group-title"},a),o.a.createElement("div",{className:"images"},u()(n,function(e,t){var r=i()(e,"current_seller.product_id",null),a=e.id,c=0!==t?"/product-p".concat(a,".html").concat(r?"?spid=".concat(r):""):"";return o.a.createElement(o.a.Fragment,{key:a},o.a.createElement("a",{href:c,target:"_blank",title:e.name||"",className:"image ".concat(e.checked?"":"disable")},o.a.createElement("img",{src:e.thumbnail_url||"",alt:e.name||""})),t!==n.length-1&&o.a.createElement("p",{className:"plus"},"+"))})),o.a.createElement("div",{className:"frequently-products"},!r&&o.a.createElement("div",{className:"frequently-show-all"},o.a.createElement("button",{onClick:this.toogleShowAll},"Xem Chi Tiết",o.a.createElement(v,{className:"frequently-show-all__icon"}))),r&&o.a.createElement(o.a.Fragment,null,u()(n,function(t,r){var a=i()(t,"current_seller.product_id",null),c=t.id,l=0!==r?"/product-p".concat(c,".html").concat(a?"?spid=".concat(a):""):"";return o.a.createElement("div",{key:t.id,className:"frequently-product-item"},o.a.createElement("button",{onClick:function(t){return e.onSelectProduct(t,r)}},o.a.createElement("img",{src:"".concat("https://frontend.tikicdn.com/_desktop-next","/static/img/pdp_revamp_v2/").concat(t.checked?"checked":"unchecked",".svg"),alt:""})),o.a.createElement("a",{href:l,target:"_blank",className:"frequently-product-name ".concat(t.checked?"":"disable")},n.length>3&&o.a.createElement("img",{src:t.thumbnail_url||"",alt:t.name||""}),o.a.createElement("span",null,0===r&&o.a.createElement("b",null,"Bạn đang xem: "),t.name||"")),o.a.createElement("p",{className:"frequently-product-price ".concat(t.checked?"":"disable")},"".concat(Object(h.a)(t.price)," ₫")))}),o.a.createElement("div",{className:"frequently-show-all__base"}),o.a.createElement("div",{className:"frequently-add-to-cart"},o.a.createElement("button",{onClick:this.onAddToCart,className:"frequently-button"},"Thêm ".concat(l.length," sản phẩm vào giỏ hàng")),o.a.createElement("p",{className:"frequently-sum-price"},o.a.createElement("span",null,"Tổng cộng: ".concat(Object(h.a)(c)," ₫"))))),r&&o.a.createElement("div",{className:"frequently-show-all"},o.a.createElement("button",{onClick:this.toogleShowAll},"Thu Gọn",o.a.createElement(v,{className:"frequently-show-all__icon"}))))))}}])&&_(t.prototype,n),r&&_(t,r),c}();P(C,"defaultProps",{addToCart:function(){}});t.default=Object(p.b)(function(e){return{customerId:i()(e,"desktop.app.customer.id",0)}})(C)}}]);